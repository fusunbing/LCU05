
/* STM32F ETH dirver options */
#define RMII_MODE                       /* MII_MODE or RMII_MODE */
#define RMII_TX_GPIO_GROUP        2     /* 1:GPIOB or 2:GPIOG */
/* 2：LCU03 eth      1: NDS  dmu*/
//#define CHECKSUM_BY_HARDWARE

注意 RMII_TX_GPIO_GROUP宏的内容，对应不同的板子。


<2018-9-11>
修改SDIO驱动部分的4个API read_block, read_multiBlock, write_block, write_multiBlock
将DMA操作的代码提至函数前部。

/* 恢复内部独立看门狗 2019-4-17*/
 thread  pri  status      sp     stack size max used   left tick  error
-------- ---- ------- ---------- ---------- ---------- ---------- ---
tcpip    0x10 suspend 0x000000dc 0x00000400 0x000001c4 0x00000014 000
phy      0x1e suspend 0x00000094 0x00000200 0x00000094 0x00000002 000
etx      0x0f suspend 0x000000a0 0x00000200 0x000000a0 0x00000010 000
erx      0x0f suspend 0x00000098 0x00000200 0x00000098 0x00000010 000
tidle    0x1f ready   0x0000005c 0x00000400 0x0000005c 0x0000001d 000
tshell   0x1e ready   0x0000019c 0x00000800 0x000001b0 0x00000005 000
canSnif  0x12 suspend 0x000000cc 0x00000400 0x000000cc 0x00000004 000
CanPTS   0x11 suspend 0x0000007c 0x00000400 0x00000190 0x00000004 000
CanMDT1  0x0c suspend 0x000000ac 0x00000400 0x000000ac 0x0000000a 000
canPdTx  0x10 suspend 0x0000008c 0x00000400 0x0000008c 0x00000004 000
CAN2R_T  0x0e suspend 0x000000cc 0x00000400 0x000000cc 0x00000004 000
CAN2T_T  0x0e suspend 0x0000011c 0x00000400 0x0000011c 0x00000004 000
CAN1R_T  0x0e suspend 0x000000cc 0x00000400 0x000000cc 0x00000004 000
CAN1T_T  0x0e suspend 0x0000011c 0x00000400 0x0000011c 0x00000004 000
EthServi 0x0f suspend 0x0000007c 0x00001000 0x00000180 0x00000013 000
FatSrv   0x1c suspend 0x000000a8 0x00001000 0x000003bc 0x00000007 000
ERSRV    0x1b suspend 0x0000009c 0x00000400 0x0000009c 0x00000008 000
BspLedSv 0x1d suspend 0x0000007c 0x00000200 0x0000007c 0x00000004 000
VosDbSrv 0x1d suspend 0x00000088 0x00000400 0x00000088 0x00000014 000
init     0x08 suspend 0x0000007c 0x00000400 0x0000007c 0x00000013 000

<201904019>
新增SD卡日志数据下载功能。
1、增加ETH模块中，PTU服务线程。
2、增加FAT文件服务模块中，PTU数据下载处理模块。
3、增加IWDG看门狗驱动。
4、MDK版本使用5.26，编译器版本AC5 Update6（build 750）
5、#define RT_LWIP_TCPTHREAD_STACKSIZE		2048 调大
6、#define RT_LWIP_ETHTHREAD_STACKSIZE		2048 调大

 thread  pri  status      sp     stack size max used   left tick  error
-------- ---- ------- ---------- ---------- ---------- ---------- ---
EthPtu   0x14 suspend 0x000001c4 0x00000800 0x00000200 0x00000002 000
tcpip    0x10 suspend 0x000000dc 0x00000400 0x00000254 0x0000000b 000
phy      0x1e suspend 0x00000094 0x00000200 0x0000015c 0x00000002 000
etx      0x0f suspend 0x000000a0 0x00000200 0x000000a0 0x00000008 000
erx      0x0f suspend 0x00000098 0x00000200 0x0000013c 0x0000000c 000
tidle    0x1f ready   0x00000044 0x00000400 0x0000005c 0x0000000f 000
tshell   0x1e ready   0x0000019c 0x00000800 0x0000025c 0x00000005 000
canSnif  0x12 suspend 0x000000cc 0x00000400 0x000000cc 0x00000004 000
CanPTS   0x11 suspend 0x0000007c 0x00000400 0x00000190 0x00000004 000
CanMDT1  0x0c suspend 0x000000ac 0x00000400 0x000000ac 0x0000000a 000
canPdTx  0x10 suspend 0x0000008c 0x00000400 0x0000008c 0x00000004 000
CAN2R_T  0x0e suspend 0x000000cc 0x00000400 0x000000cc 0x00000004 000
CAN2T_T  0x0e suspend 0x0000011c 0x00000400 0x0000011c 0x00000004 000
CAN1R_T  0x0e suspend 0x000000cc 0x00000400 0x000000cc 0x00000004 000
CAN1T_T  0x0e suspend 0x0000011c 0x00000400 0x0000011c 0x00000004 000
EthServi 0x0f suspend 0x0000007c 0x00000400 0x00000180 0x00000013 000
FatSrv   0x1c suspend 0x000000a8 0x00001000 0x000003bc 0x0000000a 000
ERSRV    0x1b suspend 0x0000009c 0x00000400 0x0000009c 0x00000008 000
BspLedSv 0x1d suspend 0x0000007c 0x00000200 0x0000007c 0x00000002 000
VosDbSrv 0x1d suspend 0x00000088 0x00000400 0x00000088 0x00000014 000
init     0x08 suspend 0x0000007c 0x00000400 0x0000007c 0x00000013 000



客户端进程bind IP地址：相当于为发送出去的IP数据报分配了源IP地址，但交给进程分配IP地址的时候（就是这样写明了bind IP地址的时候）这个IP地址必须是主机的一个接口，不能分配一个不存在的IP。如果不分配就表示由内核根据所用的输出接口来选择源IP地址。




 